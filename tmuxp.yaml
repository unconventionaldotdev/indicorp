---
session_name: indicorp
start_directory: ./
windows:
  - window_name: venv
    focus: true
    panes:
      - shell_command: source .venv/bin/activate

  - window_name: repos
    layout: even-horizontal
    panes:
      - focus: true
        shell_command: git status
      - shell_command: cd indico && git status

  - window_name: local
    layout: main-horizontal
    panes:
      - focus: true
        shell_command: uv run indico shell
      - shell_command: make run
      - shell_command: make assets-core-watch
      - shell_command: make assets-distro-watch

  - window_name: logs
    layout: main-vertical
    panes:
      # XXX: Run --with=setuptools due to maildump issue:
      #      https://github.com/ThiefMaster/maildump/issues/63
      - shell_command: uvx --with=setuptools maildump
      - shell_command: make log-db
      - shell_command: make log-app

  - window_name: remote
    layout: main-vertical
    panes:
      - focus: true
        shell_command: "# Use this pane to SSH into your machines"
      - shell_command: "# Use this pane to SSH into your machines"
